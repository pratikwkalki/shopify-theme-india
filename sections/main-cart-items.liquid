{{ 'component-cart.css' | asset_url | stylesheet_tag }}
{{ 'component-cart-items.css' | asset_url | stylesheet_tag }}
{{ 'component-totals.css' | asset_url | stylesheet_tag }}
{{ 'component-price.css' | asset_url | stylesheet_tag }}
{{ 'component-discounts.css' | asset_url | stylesheet_tag }}
{{ 'quantity-popover.css' | asset_url | stylesheet_tag }}

<!-- <script>
  if(location.pathname.includes('/cart')) {
    location.replace('/')
  }
</script> -->

{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 1 | round: 0 }}px !important;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.5 | round: 0 }}px !important;
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px !important;
      padding-bottom: {{ section.settings.padding_bottom }}px !important;
    }
  }
{%- endstyle -%}

{%- unless settings.cart_type == 'drawer' -%}
  <script src="{{ 'cart.js' | asset_url }}" defer="defer"></script>
{%- endunless -%}

<script src="{{ 'quantity-popover.js' | asset_url }}" defer="defer"></script>

<div class="page-width cart-wrapper gradient color-{{ section.settings.color_scheme }} isolate{% if cart == empty %} is-empty{% else %} section-{{ section.id }}-padding{% endif %}">
  <div id="cart-title" data-id="cart-title">
    <div id="cart-title-wrap">
      <div class="cart-title-wrap">
        {%- if cart != empty -%}
          {% assign is_sold_out_product = false %}
          {%- for item in cart.items -%}
            {% assign variant = item.variant %}
            {% if variant.inventory_management and variant.inventory_quantity <= 0 and variant.available == false %}
              {% assign is_sold_out_product = true %}
            {% endif %}
          {%- endfor -%}
        {%- endif -%}
        {% if is_sold_out_product %}<div class="sold-out-error hide">Some of the products are out of stock. Please remove them to proceed to checkout.</div>{% endif %}
        <h1 class="title title--primary">{{ 'sections.cart.title' | t }} <b>({{ cart.items | size }})</b></h1>
      </div>
    </div>
  </div>
  <div class="cart-left">
    <cart-items class="gradient color-{{ section.settings.color_scheme }}">
    
        <div class="cart__warnings">
          <h1 class="cart__empty-text">{{ 'sections.cart.empty' | t }}</h1>
          <a href="{{ routes.all_products_collection_url }}" class="button">
            {{ 'general.continue_shopping' | t }}
          </a>
    
          {%- if shop.customer_accounts_enabled and customer == null -%}
            <h2 class="cart__login-title">{{ 'sections.cart.login.title' | t }}</h2>
            <p class="cart__login-paragraph">
              <a href="/account/login" class="kp-carttxtlink">Login</a> to checkout faster.
            </p>
          {%- endif -%}
        </div>
    
        <form action="{{ routes.cart_url }}" class="cart__contents critical-hidden" method="post" id="cart">
          <div class="cart__items" id="main-cart-items" data-id="{{ section.id }}">
            <div class="js-contents">
              {%- if cart != empty -%}
                <table class="cart-items">
                  <caption class="visually-hidden">
                    {{ 'sections.cart.title' | t }}
                  </caption>
   
                  <tbody class="cart_wrapper" data-csapp_line_wrapper>
                    {% assign total_discount = 0 %}
                    {%- for item in cart.items -%}
                      <tr class="cart-item{% if item.product.title contains 'Pre Drape This Saree' or item.product.title contains 'Satin Petticoat' or item.product.id == 14625967440235 %} cart-hide-option{% endif %} cart_index" id="CartItem-{{ item.index | plus: 1 }}" data-csapp_line_index>
                        {%- for option in item.product.options_with_values -%}
                          {%- for value in option.values -%}
                            {% if option.name == 'Size' or option.name == 'Confi size' or option.name == 'Confi Size' %}
                            {% assign varSize = true %}
                            {% for variant in item.product.variants %}
                              {% if value contains 'Months' or value contains 'Years' %}
                                {% assign miniSizeContains = true %}
                              {% endif %}
                            {% endfor %}
                            {% if forloop.index == 1 %}
                              {% unless value contains 'Months' or value contains 'Years' %}
                                {% assign miniSize = true %}
                              {% endunless  %}
                            {% endif %}
                          {% endif %}
                          {% endfor %}
                        {% endfor %}
                        {%- if item.product.has_only_default_variant == false -%}
                          {%- for option in item.options_with_values -%}
                              {% if option.value contains 'Months' or option.value contains 'Years'  %}
                                {% assign itemVar = true %}
                              {% endif %}
                          {%- endfor -%}
                        {%- endif -%}
                        {% if varSize == true and miniSizeContains == true and miniSize == true and itemVar == true %}
                          {% assign miniItem = true %}
                        {% endif %}
                        <td class="cart-item__media">
                          {% if item.image %}
                            {% comment %} Leave empty space due to a:empty CSS display: none rule {% endcomment %}
                            <a href="{{ item.url }}{% if miniItem %}&miniSize=true{% endif %}" class="cart-item__link" aria-hidden="true" tabindex="-1"> </a>
                            <div class="cart-item__image-container gradient global-media-settings">
                              <img
                                src="{{ item.image | image_url: width: 300 }}"
                                class="cart-item__image"
                                alt="{{ item.image.alt | escape | default: item.product.title }}"
                                loading="lazy"
                                width="150"
                                height="{{ 150 | divided_by: item.image.aspect_ratio | ceil }}"
                              >
                            </div>
                          {% endif %}
                        </td>
    
                        <td class="cart-item__details" data-variant-id="{{ item.id }}" data-line-item-key="{{ item.key }}" data-line-item-index="{{ item.index }}" js-cart-item-details >
                          <div class="cart-item__details-wrap">
                            <div class="">
                              {%- if settings.show_vendor -%}
                                <p class="caption-with-letter-spacing">{{ item.product.vendor }}</p>
                              {%- endif -%}
        
                              <a href="{{ item.url }}{% if miniItem %}&miniSize=true{% endif %}" class="cart-item__name h4 break">{{ item.product.title | escape }}</a>
    
                              <div class="medium-hide large-up-hide">
                                {%- if item.original_line_price != item.final_line_price -%}
                                  {% if item.variant.compare_at_price > item.variant.price %}
                                    {% assign compareSavingsAmount = item.variant.compare_at_price | minus: item.final_price %}
                                    {% assign compareSavingPercentage = compareSavingsAmount | times: 100 | divided_by: item.variant.compare_at_price %}
          
                                    {% assign savingPercentage = compareSavingPercentage %}
                                  {% else %}
                                    {% assign savingsAmount = item.original_line_price | minus: item.final_line_price %}
                                    {% assign savingPercentage = savingsAmount | times: 100 | divided_by: item.original_line_price %}
                                  {% endif %}
          
                                  <div class="cart-item__discounted-prices">
                                    <span class="visually-hidden">
                                      <span data-ymq-item-key="{{ product.key }}" class='ymq_item_price'>{{ 'products.product.price.sale_price' | t }}</span>
                                    </span>
                                    <span class="product-option" >
                                      <span data-ymq-item-key="{{ item.key }}" class='ymq_item_final_price'>{{ item.final_price | money }}</span>
                                    </span>
                                    <span class="visually-hidden">
                                      <span data-ymq-item-key="{{ product.key }}" class='ymq_item_price'>{{ 'products.product.price.regular_price' | t }}</span>
                                    </span>
                                    <s class="cart-item__old-price product-option">
                                      {% if item.variant.compare_at_price > item.variant.price %}
                                        MRP {{ item.variant.compare_at_price | money }}
                                      {% else %}
                                        MRP <span data-ymq-item-key="{{ item.key }}" class='ymq_item_original_price'>{{ item.original_price | money }}</span>
                                      {% endif %}
                                    </s>
                                    {% if item.properties.saving_price %}
                                       <div class="saving-percentage append-main-save">{{ item.properties.saving_price }}</div>
                                     {% endif %}
                                  </div>
                                {% elsif item.variant.compare_at_price > item.variant.price %}
                                  {% assign savingsAmount = item.variant.compare_at_price | minus: item.original_price %}
                                  {% assign savingPercentage = savingsAmount | times: 100 | divided_by: item.variant.compare_at_price %}
                                  <div class="cart-item__discounted-prices">
                                    <span class="visually-hidden">
                                      <span data-ymq-item-key="{{ product.key }}" class='ymq_item_price'>{{ 'products.product.price.sale_price' | t }}</span>
                                    </span>
                                    <span class="product-option"  >
                                      <span data-ymq-item-key="{{ item.key }}" class='ymq_item_final_price'>{{ item.final_price | money }}</span>
                                    </span>
                                    <span class="visually-hidden">
                                      <span data-ymq-item-key="{{ product.key }}" class='ymq_item_price'>{{ 'products.product.price.regular_price' | t }}</span>
                                    </span>
                                    <s class="cart-item__old-price product-option">
                                      MRP {{ item.variant.compare_at_price | money }}
                                    </s>
                                     {% if item.properties.saving_price %}
                                       <div class="saving-percentage append-main-save">{{ item.properties.saving_price }}</div>
                                     {% endif %}
                                  </div>
                                  <!-- Calculate and add the discount for each item -->
                                  {% assign item_discount = item.variant.compare_at_price | minus: item.variant.price %}
                                  {% assign total_discount_for_item = item_discount | times: item.quantity %}
                                  {% assign total_discount = total_discount | plus: total_discount_for_item %}
                                {%- else -%}
                                  <span class="product-option" data-csapp_price>
                                    <span class="price-mrp">MRP</span> <span data-ymq-item-key="{{ item.key }}" class='ymq_item_original_price'>{{ item.original_price | money }}</span>
                                  </span>
                                {%- endif -%}
                              </div>

                              {%- for property in item.properties -%}
                                {% if property.first == 'Estimated delivery' %}
                                  {% assign estimated_delivery_date = property.last %}
                                {% endif %}
                              {% endfor %}
                              
                              <div class="option-quantity-wrap">
                                {%- if item.product.has_only_default_variant == false -%}
                                  {%- for option in item.options_with_values -%}
                                    {% if option.name == "Size" or option.name == "size" or option.name == "Confi Size" and option.name == "Confi size" %}
                                      <div class="product-option">
                                        <dt>{{ option.name }}:</dt>
                                        <dd>{{ option.value }}</dd>
                                      </div>
                                    {% endif %}
                                  {%- endfor -%}
                                {%- endif -%}
                                <quantity-popover>
                                  <div class="cart-item__quantity-wrapper quantity-popover-wrapper {% if item.product.id == 8223122063514 or item.product.id == 8221267263642 or item.product.id == 14625967440235 %} upsell_product-hide {% endif %}">
                                    <label class="visually-hidden" for="Quantity-{{ item.index | plus: 1 }}">
                                      {{ 'products.product.quantity.label' | t }}
                                    </label>
                                    <div class="quantity-popover-container {% if has_qty_rules or has_vol_pricing %} quantity-popover-container--hover{% endif %}">
                                      {%- if has_qty_rules or has_vol_pricing -%}
                                        <button
                                          type="button"
                                          aria-expanded="false"
                                          class="quantity-popover__info-button quantity-popover__info-button--icon-only button button--tertiary small-hide no-js-hidden"
                                        >
                                          {% render 'icon-info' %}
                                        </button>
                                      {%- endif -%}
                                      <quantity-input class="quantity cart-quantity">
                                        <button class="quantity__button no-js-hidden" name="minus" type="button">
                                          <span class="visually-hidden">
                                            {{- 'products.product.quantity.decrease' | t: product: item.product.title | escape -}}
                                          </span>
                                          {% render 'icon-minus' %}
                                        </button>
                                        <input
                                          class="quantity__input"
                                          data-quantity-variant-id="{{ item.variant.id }}"
                                          type="number"
                                          name="updates[]"
                                          value="{{ item.quantity }}"
                                          {% # theme-check-disable %}
                                          data-cart-quantity="{{ cart | item_count_for_variant: item.variant.id }}"
                                          min="{{ item.variant.quantity_rule.min }}"
                                          {% if item.variant.quantity_rule.max != null %}
                                            max="{{ item.variant.quantity_rule.max }}"
                                          {% endif %}
                                          step="{{ item.variant.quantity_rule.increment }}"
                                          {% # theme-check-enable %}
                                          aria-label="{{ 'products.product.quantity.input_label' | t: product: item.product.title | escape }}"
                                          id="Quantity-{{ item.index | plus: 1 }}"
                                          data-index="{{ item.index | plus: 1 }}"
                                        >
                                        <button class="quantity__button no-js-hidden" name="plus" type="button">
                                          <span class="visually-hidden">
                                            {{- 'products.product.quantity.increase' | t: product: item.product.title | escape -}}
                                          </span>
                                          {% render 'icon-plus' %}
                                        </button>
                                      </quantity-input>
                                    </div>
                                  </div>
                                  {%- if has_qty_rules or has_vol_pricing -%}
                                    <button
                                      type="button"
                                      class="quantity-popover__info-button quantity-popover__info-button--icon-with-label button button--tertiary medium-hide large-up-hide"
                                      aria-expanded="false"
                                    >
                                      {% render 'icon-info' %}
                                      <span>
                                        {%- if has_vol_pricing -%}
                                          {{ 'products.product.volume_pricing.note' | t }}
                                        {%- elsif has_qty_rules -%}
                                          {{ 'products.product.quantity.note' | t }}
                                        {%- endif -%}
                                      </span>
                                    </button>
                                  {%- endif -%}
                                  {%- if has_vol_pricing or has_qty_rules -%}
                                    <div
                                      class="cart-items__info global-settings-popup quantity-popover__info"
                                      tabindex="-1"
                                      hidden
                                    >
                                      {%- if has_qty_rules == false -%}
                                        <span class="volume-pricing-label caption">
                                          {{- 'products.product.volume_pricing.title' | t -}}
                                        </span>
                                      {%- endif -%}
                                      <div class="quantity__rules caption no-js-hidden">
                                        {%- if item.variant.quantity_rule.increment > 1 -%}
                                          <span class="divider">
                                            {{-
                                              'products.product.quantity.multiples_of'
                                              | t: quantity: item.variant.quantity_rule.increment
                                            -}}
                                          </span>
                                        {%- endif -%}
                                        {%- if item.variant.quantity_rule.min > 1 -%}
                                          <span class="divider">
                                            {{-
                                              'products.product.quantity.minimum_of'
                                              | t: quantity: item.variant.quantity_rule.min
                                            -}}
                                          </span>
                                        {%- endif -%}
                                        {%- if item.variant.quantity_rule.max != null -%}
                                          <span class="divider">
                                            {{-
                                              'products.product.quantity.maximum_of'
                                              | t: quantity: item.variant.quantity_rule.max
                                            -}}
                                          </span>
                                        {%- endif -%}
                                      </div>
                                      <button
                                        class="button-close button button--tertiary medium-hide large-up-hide"
                                        type="button"
                                        aria-label="{{ 'accessibility.close' | t }}"
                                      >
                                        {%- render 'icon-close' -%}
                                      </button>
                                      {%- if item.variant.quantity_price_breaks.size > 0 -%}
                                        <volume-pricing class="parent-display">
                                          <ul class="list-unstyled">
                                            <li>
                                              <span>{{ item.variant.quantity_rule.min }}+</span>
                                              {%- assign price = item.variant.price | money_with_currency -%}
                                              <span> {{ 'sections.quick_order_list.each' | t: money: price }}</span>
                                            </li>
                                            {%- for price_break in item.variant.quantity_price_breaks -%}
                                              <li>
                                                <span>
                                                  {{- price_break.minimum_quantity -}}
                                                  <span aria-hidden="true">+</span></span
                                                >
                                                {%- assign price = price_break.price | money_with_currency -%}
                                                <span> {{ 'sections.quick_order_list.each' | t: money: price }}</span>
                                              </li>
                                            {%- endfor -%}
                                          </ul>
                                        </volume-pricing>
                                      {%- endif -%}
                                    </div>
                                  {%- endif -%}
                                  <div class="cart-item__error" id="Line-item-error-{{ item.index | plus: 1 }}" role="alert">
                                    <small class="cart-item__error-text"></small>
                                    <svg
                                      aria-hidden="true"
                                      focusable="false"
                                      class="icon icon-error"
                                      viewBox="0 0 13 13"
                                    >
                                      <circle cx="6.5" cy="6.50049" r="5.5" stroke="white" stroke-width="2"/>
                                      <circle cx="6.5" cy="6.5" r="5.5" fill="#EB001B" stroke="#EB001B" stroke-width="0.7"/>
                                      <path d="M5.87413 3.52832L5.97439 7.57216H7.02713L7.12739 3.52832H5.87413ZM6.50076 9.66091C6.88091 9.66091 7.18169 9.37267 7.18169 9.00504C7.18169 8.63742 6.88091 8.34917 6.50076 8.34917C6.12061 8.34917 5.81982 8.63742 5.81982 9.00504C5.81982 9.37267 6.12061 9.66091 6.50076 9.66091Z" fill="white"/>
                                      <path d="M5.87413 3.17832H5.51535L5.52424 3.537L5.6245 7.58083L5.63296 7.92216H5.97439H7.02713H7.36856L7.37702 7.58083L7.47728 3.537L7.48617 3.17832H7.12739H5.87413ZM6.50076 10.0109C7.06121 10.0109 7.5317 9.57872 7.5317 9.00504C7.5317 8.43137 7.06121 7.99918 6.50076 7.99918C5.94031 7.99918 5.46982 8.43137 5.46982 9.00504C5.46982 9.57872 5.94031 10.0109 6.50076 10.0109Z" fill="white" stroke="#EB001B" stroke-width="0.7">
                                    </svg>
                                  </div>
                                </quantity-popover>
                              </div>
                      
                              {% assign variant = item.variant %}
                              {% assign is_sold_out = false %}
                              {% if variant.inventory_management and variant.inventory_quantity <= 0 and variant.available == false %}
                                {% assign is_sold_out = true %}
                              {% endif %}
                              {% if is_sold_out %}<div class="sold-out-error">This product is out of stock.</div>{% endif %}
  
                              {%- if item.product.has_only_default_variant == false
                                or item.properties.size != 0
                                or item.selling_plan_allocation != null
                              -%}
                                {%- for property in item.properties -%}
                                  {%- assign property_first_char = property.first | slice: 0 -%}
                                  {%- if property.last != blank  -%}
                                    {% assign hideClassViewDetails = '' %}
                                    {% if property.first == '_Product category' or property.first == '_Compare at price for the product' or property.first == '_Discount on product' %}
                                       {% assign hideClassViewDetails = 'hide' %}
                                    {% endif %}
                                  {% endif %}
                                {% endfor %}
                                {% unless item.product.id == 8223122063514 or item.product.id == 8221267263642 or item.product.id == 14625967440235 %}
                                  <button class="view-details-btn {{ hideClassViewDetails }}" onclick="toggleCartDetails(this, '{{ item.key }}');" type="button">
                                    View Details
                                  </button>
                                {% endunless %}
                                <dl id="main-cart-details-{{ item.key }}" style="display: none;">
                                  {%- if item.product.has_only_default_variant == false -%}
                                    {%- for option in item.options_with_values -%}
                                      {% unless option.name == "Size" or option.name == "size" or option.name == "Confi Size" or option.name == "Confi size" %}
                                        <div class="product-option">
                                          <dt>{{ option.name }}:</dt>
                                          <dd>{{ option.value }}</dd>
                                        </div>
                                      {% endunless %}
                                    {%- endfor -%}
                                  {%- endif -%}
        
                                  {%- for property in item.properties -%}
                                    {%- assign property_first_char = property.first | slice: 0 -%}
                                    {%- if property.last != blank -%}
                                      {% if property.first == 'Estimated delivery' %}
                                        {% assign estimated_delivery_title = property.first %}
                                        {% assign estimated_delivery_value = property.last %}
                                      {% else %}
                                        {% assign hideClass = '' %}
                                        {% if  property.first == '_Product category' or property.first == '_Compare at price for the product' or property.first == '_Discount on product' or property.first == '__shopify_send_gift_card_to_recipient' or property.first == '__shopify_offset' or property.first == '_Delivery days' %} 
                                           {% assign hideClass= 'hide' %}
                                        {% endif %}
                                        <div class="product-option {{ hideClass }} {% if property.first == '_ref_id' or property.first == 'saving_price' %} hide {% endif %}" data-property-first="{{ property.first }}" data-property-last="{{ property.last }}">
                                          {% if property.first == '_type' %}
                                            <span js-main-product></span>
                                          {% else %}
                                            <dt>{{ property.first }}:</dt>
                                            <dd>
                                              {%- if property.last contains '/uploads/' -%}
                                                <a href="{{ property.last }}" class="link" target="_blank">
                                                  {{ property.last | split: '/' | last }}
                                                </a>
                                              {%- else -%}
                                                {{ property.last }}
                                              {%- endif -%}
                                            </dd>
                                          {% endif %}
                                        </div>
                                      {% endif %}
                                    {%- endif -%}
                                  {%- endfor -%}
                                </dl>
        
                                <p class="product-option">{{ item.selling_plan_allocation.selling_plan.name }}</p>
                              {%- endif -%}
        
                              <ul class="discounts list-unstyled" role="list" aria-label="{{ 'customer.order.discount' | t }}">
                                {%- for discount in item.line_level_discount_allocations -%}
                                  <li class="discounts__discount">
                                    {%- render 'icon-discount' -%}
                                    {{ discount.discount_application.title }}
                                  </li>
                                {%- endfor -%}
                              </ul>
                              {% unless item.product.id == 8223122063514 or item.product.id == 8221267263642 or item.product.id == 14625967440235 %}
                                <div class="{% unless estimated_delivery_value %}no_delivery_date{% endunless %}">
                                <cart-remove-button
                                  id="Remove-{{ item.index | plus: 1 }}"
                                  data-index="{{ item.index | plus: 1 }}"
                                >
                                  <a
                                    href="{{ item.url_to_remove }}"
                                    class="button button--tertiary"
                                    aria-label="{{ 'sections.cart.remove_title' | t: title: item.title }}"
                                  >
                                    Remove
                                  </a>
                                </cart-remove-button>
                                </div>
                              {% endunless %}
                            </div>
                            <div class="cart-item__totals right small-hide">
                              {%- render 'loading-spinner' -%}
                              <div class="cart-item__price-wrapper cart_line_price"  data-csapp_line_price  data-csapp_discount_summery>
                                {%- if item.original_line_price != item.final_line_price -%}
                                  <div class="cart-item__discounted-prices">
                                    <span class="visually-hidden">
                                      <span data-ymq-item-key="{{ product.key }}" class='ymq_item_price'>{{ 'products.product.price.sale_price' | t }}</span>
                                    </span>
                                    <span class="price price--end">
                                      <span data-ymq-item-key="{{ item.key }}" class='ymq_item_final_line_price'>{{ item.final_line_price | money }}</span>
                                    </span>
                                    <span class="visually-hidden">
                                      <span data-ymq-item-key="{{ product.key }}" class='ymq_item_price'>{{ 'products.product.price.regular_price' | t }}</span>
                                    </span>
                                    <s class="cart-item__old-price price price--end">
                                      {% if item.variant.compare_at_price > item.variant.price %}
                                        MRP {{ item.variant.compare_at_price | times: item.quantity | money }}
                                      {% else %}
                                        MRP <span data-ymq-item-key="{{ item.key }}" class='ymq_item_original_line_price'>{{ item.original_line_price | money }}</span>
                                      {% endif %}
                                    </s>
                                    {%- if item.variant.compare_at_price > item.discounted_price -%}
                                      {% assign saving_price = item.variant.compare_at_price | minus: item.discounted_price %}
                                      {% assign raw_discount = saving_price | times: 1000.0 | divided_by: item.variant.compare_at_price %}
                                      {% assign rounded_discount = raw_discount | round %}
                                      {% assign final_discount = rounded_discount | divided_by: 10.0 %}
                                      {% assign check_decimal = final_discount | modulo: 1 %}
                                      <div class="saving-percentage append-main-save tst">
                                        {{ final_discount | round }}{% unless check_decimal == 0 %}.{{ final_discount | times: 10 | modulo: 10 | round }}{% endunless %}% OFF
                                      </div>
                                    {%- elsif item.original_price > item.discounted_price -%}
                                       {% assign savingprice = item.original_price | minus: item.discounted_price %}
                                       {% assign finalsave = savingprice | times: 100.0 | divided_by: item.original_price | round %}
                                      <div class="saving-percentage append-main-save">{{ finalsave }}% OFF</div>
                                    {%- elsif item.properties.saving_price -%}
                                       <div class="saving-percentage append-main-save">{{ item.properties.saving_price }}</div>
                                     {% endif %}
                                  </div>
                                {% elsif item.variant.compare_at_price > item.variant.price %}
                                  <div class="cart-item__discounted-prices">
                                    <span class="visually-hidden">
                                      <span data-ymq-item-key="{{ product.key }}" class='ymq_item_price'>{{ 'products.product.price.sale_price' | t }}</span>
                                    </span>
                                    <span class="price price--end">
                                      <span data-ymq-item-key="{{ item.key }}" class='ymq_item_final_line_price'>{{ item.final_line_price | money }}</span>
                                    </span>
                                    <span class="visually-hidden">
                                      <span data-ymq-item-key="{{ product.key }}" class='ymq_item_price'>{{ 'products.product.price.regular_price' | t }}</span>
                                    </span>
                                    <s class="cart-item__old-price price price--end">
                                      MRP {{ item.variant.compare_at_price | times: item.quantity | money }}
                                    </s>
                                  {% if item.properties.saving_price %}
                                       <div class="saving-percentage append-main-save">{{ item.properties.saving_price }}</div>
                                     {% endif %}
                                  </div>
                                {%- else -%}
                                  <span class="price price--end">
                                     <span class="price-mrp">MRP</span> <span data-ymq-item-key="{{ item.key }}" class='ymq_item_original_line_price'>{{ item.original_line_price | money }}</span>
                                  </span>
                                {%- endif -%}
        
                                {%- if item.variant.available and item.unit_price_measurement -%}
                                  <div class="unit-price caption">
                                    <span class="visually-hidden"><span data-ymq-item-key="{{ product.key }}" class='ymq_item_price'>{{ 'products.product.price.unit_price' | t }}</span></span>
                                    <span data-ymq-item-key="{{ item.key }}" class='ymq_item_unit_price'>{{ item.unit_price | money }}</span>
                                    <span aria-hidden="true">/</span>
                                    <span class="visually-hidden"
                                      >&nbsp;{{ 'accessibility.unit_price_separator' | t }}&nbsp;</span
                                    >
                                    {%- if item.unit_price_measurement.reference_value != 1 -%}
                                      <span data-ymq-item-key="{{ item.key }}" class='ymq_item_unit_price_measurement'>{{- item.unit_price_measurement.reference_value -}}</span>
                                    {%- endif -%}
                                    <span data-ymq-item-key="{{ item.key }}" class='ymq_item_unit_price_measurement'>{{ item.unit_price_measurement.reference_unit }}</span>
                                  </div>
                                {%- endif -%}
                              </div>
                            </div>
                            {% unless item.product.id == 8223122063514 or item.product.id == 8221267263642 or item.product.id == 14625967440235 %}
                              {% if estimated_delivery_value %}
                                <div class="product-option" data-property-first="{{ estimated_delivery_title }}" data-property-last="{{ estimated_delivery_value }}">
                                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"> <circle cx="12" cy="12" r="11" fill="#F0FAF2"></circle> <rect x="5.5" y="5.5" width="11" height="11" rx="0.5" stroke="#223330"></rect> <path d="M16.5 16.5V8.59301L20.3173 9.2474C20.9576 9.35716 21.4544 9.86658 21.5482 10.5094L22.4218 16.5H16.5Z" stroke="#223330"></path> <path d="M21 16.5C21 17.8807 19.8807 19 18.5 19C17.1193 19 16 17.8807 16 16.5C16 15.737 16.3418 15.0539 16.8806 14.5954C17.3168 14.2241 17.8822 14 18.5 14C19.8807 14 21 15.1193 21 16.5Z" fill="white"></path> <circle cx="8.5" cy="16.5" r="2.5" fill="white"></circle> <circle cx="8.5" cy="16.5" r="2" stroke="#223330"></circle> <circle cx="18.5" cy="16.5" r="2" stroke="#223330"></circle> <line x1="2" y1="9.5" x2="8" y2="9.5" stroke="#223330"></line> <path d="M3 12.5H8" stroke="#223330"></path> <path d="M2 8.5H7" stroke="white"></path> <path d="M2 11.5H7" stroke="white"></path> </svg>
                                  <dt>{{ estimated_delivery_title }}:</dt>
                                  <dd id="delivery_date">{{ estimated_delivery_value }}</dd>
                                </div>
                              {% endif %}
                            {% endunless %}
                          </div>
                        </td>
                                  
                        {%- liquid
                          assign has_qty_rules = false
                          if item.variant.quantity_rule.increment > 1 or item.variant.quantity_rule.min > 1 or item.variant.quantity_rule.max != null
                            assign has_qty_rules = true
                          endif
    
                          assign has_vol_pricing = false
                          if item.variant.quantity_price_breaks.size > 0
                            assign has_vol_pricing = true
                          endif
                        -%}
                      </tr>
                    {%- endfor -%}
                  </tbody>
                </table>
              {%- endif -%}
            </div>
          </div>
    
          <p class="visually-hidden" id="cart-live-region-text" aria-live="polite" role="status"></p>
          <p
            class="visually-hidden"
            id="shopping-cart-line-item-status"
            aria-live="polite"
            aria-hidden="true"
            role="status"
          >
            {{ 'accessibility.loading' | t }}
          </p>
        </form>
      <script>
        function toggleCartDetails(button, itemKey) {
          var detailsDiv = document.getElementById('main-cart-details-' + itemKey);
          if (!detailsDiv) {
            return;
          }
          if (detailsDiv.style.display === 'none') {
            detailsDiv.style.display = 'block';
            button.textContent = 'Hide Details';
            button.classList.add('active');
          } else {
            detailsDiv.style.display = 'none';
            button.textContent = 'View Details';
            button.classList.remove('active');
          }
        }
      </script>
    </cart-items>
    {%- if shop.customer_accounts_enabled and customer == null -%}
      <a class="pdp-log-strip-inner" href="/account/login">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_3752_21995)"><path d="M17.0564 4.86001C14.1244 5.3376 11.9865 7.90953 11.9865 10.0003C11.9865 7.90953 10.2558 5.40128 6.89628 4.86001C4.11701 4.41425 1.37846 6.66425 1.80604 10.1878C2.54921 16.2904 11.0017 20.5003 11.9865 21.0876C13.0017 20.5003 21.21 16.1525 22.167 10.1878C22.6964 6.89774 20.2429 4.35057 17.0564 4.86001Z" stroke="#262433" stroke-width="1.2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path></g>
            <defs><clipPath id="clip0_3752_21995"><rect width="22" height="18" fill="white" transform="translate(1 4)"></rect></clipPath></defs>
        </svg>
        <p>Login Here To See Items From Your Wishlist</p>
      </a>
    {% endif %}
  </div>
  <div class="cart-right main-cart-footer" id="main-sub-cartfooter">
    {%- if settings.show_cart_note -%}
      <cart-note class="cart__note field">
        <label for="Cart-note">{{ 'sections.cart.note' | t }}</label>
        <textarea
          class="text-area field__input"
          name="note"
          form="cart"
          id="Cart-note"
          placeholder="{{ 'sections.cart.note' | t }}"
        >{{ cart.note }}</textarea>
      </cart-note>
    {%- endif -%}
    <div class="cart__blocks">
      <div class="cart__blocks-totals">
        <h3>Order Summary</h3>
        <div class="js-contents" {{ section.shopify_attributes }}>
          <div class="totals cart-subtotal">
            <h2 class="totals__total">Subtotal</h2>
            {% assign subtotal_price = cart.original_total_price | plus:total_discount %}
            <p class="totals__total-value">{{ subtotal_price | money_with_currency }}</p>
          </div>
         {% if total_discount != 0 %}
            <div class="totals discount-total">
              <h2 class="totals__total">Discount on MRP</h2>
              <p class="totals__total-value"><span  class='ymq_cart_total_price'>-{{ total_discount  | money_with_currency }}</span></p>
            </div>
          {% endif %}
          {%- if cart.cart_level_discount_applications.size > 0 -%}
            <ul class="discounts list-unstyled" role="list" aria-label="{{ 'customer.order.discount' | t }}">
              {%- for discount in cart.cart_level_discount_applications -%}
                <li class="discounts__discount discounts__discount--position">
                  <span class="discount_totals__total">Discount ({{ discount.title }})</span>
                  <span>-{{ discount.total_allocated_amount | money }}</span>
                </li>
              {%- endfor -%}
            </ul>
          {%- endif -%}
          <div class="totals discount-total cart-shipping">
            <h2 class="totals__total">Shipping & Handling (FREE - Blue Dart / Delhivery)</h2>
            <p class="totals__total-value">Free</p>
          </div> 
          <div class="totals main-subtotal">
            <h2 class="totals__total">{{ 'sections.cart.estimated_total' | t }}</h2>
            <p class="totals__total-value">{{ cart.total_price | money_with_currency }}</p>
          </div>

          {% if total_discount != 0 %}
            <div class="discount-total-content">Congrats! You saved total <span>{{ total_discount  | money_with_currency }}</span> on this order.</div>
          {% endif %}

          {% unless customer %}
            <div class="cart-login-message"><div><a href="/account/login">Login</a> now to reveal your personalized coupon codes.</div></div>
            {% endunless %}
          {% if customer and section.settings.coupon_code != blank %}
            <div class="cart-login-message"><div>{{ section.settings.coupon_code }}</div></div>
          {% endif %}
          
        </div>
        <div class="cart__ctas" {{ section.shopify_attributes }}>
          <noscript>
            <button type="submit" class="cart__update-button button button--secondary" form="cart">
              {{ 'sections.cart.update' | t }}
            </button>
          </noscript>
  
          <button
            type="submit"
            id="checkout"
            class="cart__checkout-button button cart__checkout-button-desktop"
            name="checkout"
            {% if cart == empty %}
              disabled
            {% endif %}
            form="cart"
            {% if is_sold_out_product %}
              disabled
            {% endif %}
          >
            Proceed to Checkout
          </button>
          <button
            type="submit"
            id="checkout"
            class="cart__checkout-button button cart__checkout-button-mobile"
            name="checkout"
            {% if is_sold_out_product %}
              disabled
            {% endif %}
            {% if cart == empty %}
              disabled
            {% endif %}
            form="cart"
          >
            <svg width="12" height="14" viewBox="0 0 12 14" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M9.50039 4.9V3.5C9.50039 1.54 7.96039 0 6.00039 0C4.04039 0 2.50039 1.54 2.50039 3.5V4.9C1.31039 4.9 0.400391 5.81 0.400391 7V11.9C0.400391 13.09 1.31039 14 2.50039 14H9.50039C10.6904 14 11.6004 13.09 11.6004 11.9V7C11.6004 5.81 10.6904 4.9 9.50039 4.9ZM3.90039 3.5C3.90039 2.31 4.81039 1.4 6.00039 1.4C7.19039 1.4 8.10039 2.31 8.10039 3.5V4.9H3.90039V3.5ZM6.70039 10.5C6.70039 10.92 6.42039 11.2 6.00039 11.2C5.58039 11.2 5.30039 10.92 5.30039 10.5V8.4C5.30039 7.98 5.58039 7.7 6.00039 7.7C6.42039 7.7 6.70039 7.98 6.70039 8.4V10.5Z" fill="white"></path> </svg>
            Secure Checkout
          </button>
        </div>
        {% if is_sold_out_product %}<div class="sold-out-error">Some of the products are out of stock. Please remove them to proceed to checkout.</div>{% endif %}
  
        {%- if additional_checkout_buttons -%}
          <div class="cart__dynamic-checkout-buttons additional-checkout-buttons">
            {{ content_for_additional_checkout_buttons }}
          </div>
        {%- endif -%}
        <!-- <div id="cart-errors"></div> -->
        {% if section.settings.highlight_text != blank %}
          <span id="highlight_text">{{ section.settings.highlight_text }}</span>
        {% endif %}
      </div>
    </div>
    {% if section.settings.returns_heading_text != blank or  section.settings.payment_icons != blank %}
      <div class="cart-payment-icons">
        <span>{{ section.settings.returns_heading_text }}</span>
        {{ section.settings.payment_icons | image_url: width: 374 | image_tag: widths: '374' }}
      </div>
    {% endif %}
  </div>
</div>
{% schema %}
{
  "name": "t:sections.main-cart-items.name",
  "settings": [
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.all.colors.label",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "t:sections.all.padding.section_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 36
    },
    {
      "type": "richtext",
      "id": "highlight_text",
      "label": "Highlight Policy Text"
    },
    {
      "type": "text",
      "id": "returns_heading_text",
      "label": "Returns Heading Text"
    },
    {
      "type": "image_picker",
      "id": "payment_icons",
      "label": "Payment Icons"
    },
    {
      "type": "richtext",
      "id": "coupon_code",
      "label": "Coupon code for logged-in users"
    }
  ],
  "blocks": [
    {
      "type": "@app"
    }
  ]
}
{% endschema %}{% comment %}<!-- ymq option done -->{% endcomment %}